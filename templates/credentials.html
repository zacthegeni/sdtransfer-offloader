{% extends "base.html" %}
{% block title %}{% if admin_exists %}Update{% else %}Set{% endif %} Admin Credentials - SDTransfer Offloader{% endblock %}
{% block content %}
  <h2><i class="fa fa-user-shield"></i> {% if admin_exists %}Update{% else %}Set{% endif %} Admin Credentials</h2>
  <div class="panel">
    {% if error %}
      <div class="flash-error" style="padding: 10px; margin-bottom: 15px;">{{ error }}</div>
    {% endif %}

    <form method="post" action="{{ url_for('credentials') }}">
      {% if admin_exists %}
        <p>Enter your current credentials and the new credentials below.</p>
        <label for="old_username">Current Username:</label>
        <input type="text" id="old_username" name="old_username" required autocomplete="username">

        <label for="old_password">Current Password:</label>
        <input type="password" id="old_password" name="old_password" required autocomplete="current-password">

        <hr style="margin: 20px 0; border-top: 1px solid #444;">
      {% else %}
         <p>Welcome! Since this is the first time or credentials are not set, please create your administrator username and password.</p>
      {% endif %}

      <label for="new_username">New Username:</label>
      <input type="text" id="new_username" name="new_username" required autocomplete="new-password"> {# Use new-password hint for browser #}

      <label for="new_password">New Password:</label>
      <input type="password" id="new_password" name="new_password" required autocomplete="new-password">

      <input class="btn" type="submit" value="Save Credentials">
    </form>
  </div>

  {% if not admin_exists %}
  <p style="margin-top: 15px; color: #ccc;">
    Once saved, future access to this web interface will require the username and password you just set.
  </p>
  {% endif %}
  <a class="btn" href="{{ url_for('index') }}" style="margin-top: 20px;"><i class="fa fa-arrow-left"></i> Back to Dashboard</a>

{% endblock %}